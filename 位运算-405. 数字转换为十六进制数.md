
## 题目地址(405. 数字转换为十六进制数)

https://leetcode-cn.com/problems/convert-a-number-to-hexadecimal/

## 题目描述


给定一个整数，编写一个算法将这个数转换为十六进制数。对于负整数，我们通常使用 补码运算 方法。

注意:

1. 十六进制中所有字母(a-f)都必须是小写。
2. 十六进制字符串中不能包含多余的前导零。如果要转化的数为0，那么以单个字符'0'来表示；对于其他情况，十六进制字符串中的第一个字符将不会是0字符。 
3. 给定的数确保在32位有符号整数范围内。
4. 不能使用任何由库提供的将数字直接转换或格式化为十六进制的方法。

示例 1：
```
输入:
26

输出:
"1a"
```

示例 2：
```
输入:
-1

输出:
"ffffffff"
```

## 时间

- 2021年10月2日（每日一题）

## 难度

- 简单
- 该题目细节比较多，两中方法中涉及到有符号负数与无符号整数的转换、位运算、无符号数右移与有符号数右移的区别等多个细节，建议动手尝试！

## 思路

### 方法一：模拟进制转换：除16取余

利用通用的进制转换思路来做，不断循环 num % k 和 num / k 的操作来构造出 k 进制每一位。

处理「补码」问题：对于负数的 num，我们需要先在 num 基础上加上 2^ 32  的偏移量，再进行进制转换。为什么呢？

以8位二进制数为例，-1 用二进制表示为 11111111，无符号整数 11111111 则表示 2^8-1，二者在计算机中二进制表示相同，差值为 2^8。因此，对于负数，先加上 2^8 转换为大正数，以无符号整型表示。该无符号整型与原始有符号 负数的二进制表示是一样的。

**Java Code:**

```java
class Solution {
    public String toHex(int _num) {
        if (_num == 0) return "0";
        long num = _num;
        if (_num < 0) num = (long)(Math.pow(2, 32) + num);
        StringBuilder sb = new StringBuilder();
        while (num != 0) {
            long u = num % 16;
            char c = (char)(u + '0');
            if (u >= 10) c = (char)(u - 10 + 'a');
            sb.append(c);
            num /= 16;
        }
        return sb.reverse().toString();
    }
}
```
### 方法二：模拟进制转换：位运算

将长度为 32 的二进制转换为 16 进制数，本质是对长度为 32 的二进制数进行分组，每 4 个一组。

同时，由于我们是直接对长度为 32 的二进制进行分组转算（4 个为一组，共 8 组），而长度为 32 的二进制本身就是使用补码规则来表示的，因此我们无须额外处理「补码」问题。

具体的，我们将 num 与 15 进行 & 运算，然后对 num 进行**无符号右移** 4 位来实现每 4 位处理。

注意：
- 无符号右移运算符是>>>，高位补0
- 有符号右移运算符是>>，高位补符号位


**Java Code:**

```java

class Solution {
    public String toHex(int num) {
        if (num == 0) return "0";
        StringBuilder sb = new StringBuilder();
        while (num != 0) {
            int u = num & 15;
            char c = (char)(u + '0');
            if (u >= 10) c = (char)(u - 10 + 'a');
            sb.append(c);
            num = num >>> 4;
        }
        return sb.reverse().toString();
    }
}

```


**复杂度分析**

- 时间复杂度：复杂度取决于构造的十六进制数的长度，固定为 C = 8（32 / 4）。整体复杂度为 O(C)
- 空间复杂度：复杂度取决于构造的十六进制数的长度，固定为 C = 8（32 / 4）。整体复杂度为 O(C)


